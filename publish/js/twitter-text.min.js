if(!window.twttr){window.twttr={}}(function(){twttr.txt={};twttr.txt.regexen={};var b={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#32;"};twttr.txt.htmlEscape=function(i){return i&&i.replace(/[&"'><]/g,function(n){return b[n]})};function c(n,i){i=i||"";if(typeof n!=="string"){if(n.global&&i.indexOf("g")<0){i+="g"}if(n.ignoreCase&&i.indexOf("i")<0){i+="i"}if(n.multiline&&i.indexOf("m")<0){i+="m"}n=n.source}return new RegExp(n.replace(/#\{(\w+)\}/g,function(p,o){var q=twttr.txt.regexen[o]||"";if(typeof q!=="string"){q=q.source}return q}),i)}function d(n,i){return n.replace(/#\{(\w+)\}/g,function(p,o){return i[o]||""})}var h=String.fromCharCode;var e=[h(32),h(133),h(160),h(5760),h(6158),h(8232),h(8233),h(8239),h(8287),h(12288)];for(var g=9;g<=13;g++){e.push(String.fromCharCode(g))}for(var g=8192;g<=8202;g++){e.push(String.fromCharCode(g))}twttr.txt.regexen.spaces=c("["+e.join("")+"]");twttr.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~/;twttr.txt.regexen.atSigns=/[@＠]/;twttr.txt.regexen.extractMentions=c(/(^|[^a-zA-Z0-9_])(#{atSigns})([a-zA-Z0-9_]{1,20})(?=(.|$))/g);twttr.txt.regexen.extractReply=c(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/);twttr.txt.regexen.listName=/[a-zA-Z][a-zA-Z0-9_\-\u0080-\u00ff]{0,24}/;twttr.txt.regexen.latinAccentChars=c("ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþ\\303\\277");twttr.txt.regexen.latenAccents=c(/[#{latinAccentChars}]+/);twttr.txt.regexen.endScreenNameMatch=c(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/);twttr.txt.regexen.hashtagCharacters=c(/[a-z0-9_#{latinAccentChars}]/i);twttr.txt.regexen.autoLinkHashtags=c(/(^|[^0-9A-Z&\/\?]+)(#|＃)([0-9A-Z_]*[A-Z_]+#{hashtagCharacters}*)/gi);twttr.txt.regexen.autoLinkUsernamesOrLists=/(^|[^a-zA-Z0-9_]|RT:?)([@＠]+)([a-zA-Z0-9_]{1,20})(\/[a-zA-Z][a-zA-Z0-9_\-]{0,24})?/g;twttr.txt.regexen.autoLinkEmoticon=/(8\-\#|8\-E|\+\-\(|\`\@|\`O|\&lt;\|:~\(|\}:o\{|:\-\[|\&gt;o\&lt;|X\-\/|\[:-\]\-I\-|\/\/\/\/Ö\\\\\\\\|\(\|:\|\/\)|∑:\*\)|\( \| \))/g;twttr.txt.regexen.validPrecedingChars=c(/(?:[^-\/"':!=A-Za-z0-9_@＠]|^|\:)/);twttr.txt.regexen.validDomain=c(/(?:[^#{punct}\s][\.-](?=[^#{punct}\s])|[^#{punct}\s]){1,}\.[a-z]{2,}(?::[0-9]+)?/i);twttr.txt.regexen.validGeneralUrlPathChars=/[a-z0-9!\*';:=\+\$\/%#\[\]\-_,~]/i;twttr.txt.regexen.wikipediaDisambiguation=c(/(?:\(#{validGeneralUrlPathChars}+\))/i);twttr.txt.regexen.validUrlPathChars=c(/(?:#{wikipediaDisambiguation}|@#{validGeneralUrlPathChars}+\/|[\.,]?#{validGeneralUrlPathChars})/i);twttr.txt.regexen.validUrlPathEndingChars=c(/(?:[a-z0-9=_#\/]|#{wikipediaDisambiguation})/i);twttr.txt.regexen.validUrlQueryChars=/[a-z0-9!\*'\(\);:&=\+\$\/%#\[\]\-_\.,~]/i;twttr.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i;twttr.txt.regexen.validUrl=c("((#{validPrecedingChars})((https?:\\/\\/)(#{validDomain})(\\/(?:#{validUrlPathChars}+#{validUrlPathEndingChars}|#{validUrlPathChars}+#{validUrlPathEndingChars}?|#{validUrlPathEndingChars})?)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi");var a="tweet-url";var f="list-slug";var m="username";var k="hashtag";var l=' rel="nofollow"';function j(p){var n={};for(var i in p){if(p.hasOwnProperty(i)){n[i]=p[i]}}return n}twttr.txt.autoLink=function(n,i){i=j(i||{});return twttr.txt.autoLinkUsernamesOrLists(twttr.txt.autoLinkUrlsCustom(twttr.txt.autoLinkHashtags(n,i),i),i)};twttr.txt.autoLinkUsernamesOrLists=function(s,q){q=j(q||{});q.urlClass=q.urlClass||a;q.listClass=q.listClass||f;q.usernameClass=q.usernameClass||m;q.usernameUrlBase=q.usernameUrlBase||"http://twitter.com/";q.listUrlBase=q.listUrlBase||"http://twitter.com/";if(!q.suppressNoFollow){var i=l}var r="",p=twttr.txt.splitTags(s);for(var o=0;o<p.length;o++){var n=p[o];if(o!==0){r+=((o%2===0)?">":"<")}if(o%4!==0){r+=n}else{r+=n.replace(twttr.txt.regexen.autoLinkUsernamesOrLists,function(z,C,v,y,t,x,D){var u=D.slice(x+z.length);var B={before:C,at:v,user:twttr.txt.htmlEscape(y),slashListname:twttr.txt.htmlEscape(t),extraHtml:i,chunk:twttr.txt.htmlEscape(D)};for(var w in q){if(q.hasOwnProperty(w)){B[w]=q[w]
}}if(t&&!q.suppressLists){var A=B.chunk=d("#{user}#{slashListname}",B);B.list=twttr.txt.htmlEscape(A.toLowerCase());return d('#{before}#{at}<a class="#{urlClass} #{listClass}" href="#{listUrlBase}#{list}"#{extraHtml}>#{chunk}</a>',B)}else{if(u&&u.match(twttr.txt.regexen.endScreenNameMatch)){return z}else{B.chunk=twttr.txt.htmlEscape(y);B.dataScreenName=!q.suppressDataScreenName?d('data-screen-name="#{chunk}" ',B):"";return d('#{before}#{at}<a class="#{urlClass} #{usernameClass}" #{dataScreenName}href="#{usernameUrlBase}#{chunk}"#{extraHtml}>#{chunk}</a>',B)}}})}}return r};twttr.txt.autoLinkHashtags=function(o,n){n=j(n||{});n.urlClass=n.urlClass||a;n.hashtagClass=n.hashtagClass||k;n.hashtagUrlBase=n.hashtagUrlBase||"http://twitter.com/search?q=%23";if(!n.suppressNoFollow){var i=l}return o.replace(twttr.txt.regexen.autoLinkHashtags,function(q,r,s,u){var t={before:r,hash:twttr.txt.htmlEscape(s),text:twttr.txt.htmlEscape(u),extraHtml:i};for(var p in n){if(n.hasOwnProperty(p)){t[p]=n[p]}}return d('#{before}<a href="#{hashtagUrlBase}#{text}" title="##{text}" class="#{urlClass} #{hashtagClass}"#{extraHtml}>#{hash}#{text}</a>',t)})};twttr.txt.autoLinkUrlsCustom=function(n,i){i=j(i||{});if(!i.suppressNoFollow){i.rel="nofollow"}if(i.urlClass){i["class"]=i.urlClass;delete i.urlClass}delete i.suppressNoFollow;delete i.suppressDataScreenName;return n.replace(twttr.txt.regexen.validUrl,function(u,x,w,p,y,t,z,o){var r;if(y){var q="";for(var s in i){q+=d(' #{k}="#{v}" ',{k:s,v:i[s].toString().replace(/"/,"&quot;").replace(/</,"&lt;").replace(/>/,"&gt;")})}i.htmlAttrs||"";var v={before:w,htmlAttrs:q,url:twttr.txt.htmlEscape(p)};return d('#{before}<a href="#{url}"#{htmlAttrs}>#{url}</a>',v)}else{return x}})};twttr.txt.extractMentions=function(q){var r=[],n=twttr.txt.extractMentionsWithIndices(q);for(var p=0;p<n.length;p++){var o=n[p].screenName;r.push(o)}return r};twttr.txt.extractMentionsWithIndices=function(o){if(!o){return[]}var n=[],i=0;o.replace(twttr.txt.regexen.extractMentions,function(p,t,s,q,u){if(!u.match(twttr.txt.regexen.endScreenNameMatch)){var r=o.indexOf(s+q,i);i=r+q.length+1;n.push({screenName:q,indices:[r,i]})}});return n};twttr.txt.extractReplies=function(n){if(!n){return null}var i=n.match(twttr.txt.regexen.extractReply);if(!i){return null}return i[1]};twttr.txt.extractUrls=function(q){var p=[],n=twttr.txt.extractUrlsWithIndices(q);for(var o=0;o<n.length;o++){p.push(n[o].url)}return p};twttr.txt.extractUrlsWithIndices=function(o){if(!o){return[]}var n=[],i=0;o.replace(twttr.txt.regexen.validUrl,function(u,x,w,p,y,r,z,v){var q;if(y){var s=o.indexOf(p,t),t=s+p.length;n.push({url:p,indices:[s,t]})}});return n};twttr.txt.extractHashtags=function(q){var p=[],o=twttr.txt.extractHashtagsWithIndices(q);for(var n=0;n<o.length;n++){p.push(o[n].hashtag)}return p};twttr.txt.extractHashtagsWithIndices=function(o){if(!o){return[]}var n=[],i=0;o.replace(twttr.txt.regexen.autoLinkHashtags,function(p,s,t,r){var q=o.indexOf(t+r,i);i=q+r.length+1;n.push({hashtag:r,indices:[q,i]})});return n};twttr.txt.splitTags=function(t){var n=t.split("<"),s,r=[],q;for(var p=0;p<n.length;p+=1){q=n[p];if(!q){r.push("")}else{s=q.split(">");for(var o=0;o<s.length;o+=1){r.push(s[o])}}}return r};twttr.txt.hitHighlight=function(y,A,q){var w="em";A=A||[];q=q||{};if(A.length===0){return y}var p=q.tag||w,z=["<"+p+">","</"+p+">"],x=twttr.txt.splitTags(y),B,E,D,t="",n=0,u=x[0],v=0,o=0,I=false,r=u,C=[],s,F,J,H,G;for(E=0;E<A.length;E+=1){for(D=0;D<A[E].length;D+=1){C.push(A[E][D])}}for(s=0;s<C.length;s+=1){F=C[s];J=z[s%2];H=false;while(u!=null&&F>=v+u.length){t+=r.slice(o);if(I&&F===v+r.length){t+=J;H=true}if(x[n+1]){t+="<"+x[n+1]+">"}v+=r.length;o=0;n+=2;u=x[n];r=u;I=false}if(!H&&u!=null){G=F-v;t+=r.slice(o,G)+J;o=G;if(s%2===0){I=true}else{I=false}}else{if(!H){H=true;t+=J}}}if(u!=null){if(o<r.length){t+=r.slice(o)}for(s=n+1;s<x.length;s+=1){t+=(s%2===0?x[s]:"<"+x[s]+">")}}return t}}());