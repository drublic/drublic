!function(e,d,a,g){e("nav").find("a").each(function(){e(this).attr("href","#!/"+e(this).attr("href"))}).click(function(){e(this).closest("nav").find(".active").removeClass("active");e(this).parent().addClass("active")});function c(i){i=new Date(i);var h=i.getDate()+"."+parseInt(i.getMonth()+1)+"."+i.getFullYear();h+=" - "+i.getHours()+":"+((i.getMinutes()<=9)?"0"+i.getMinutes():i.getMinutes());return h}e.get("http://blog.pagetimer.de/api/read/json?num=10&filter=text",function(i){log(i);e(".pagetimer .feed ul").html("");var h="";e.each(i.posts,function(j,k){h=k["regular-body"].substr(0,100);e(".pagetimer .feed ul").append('<li style="display: none;"><h4><a href="'+k["url-with-slug"]+'" target="_blank">'+k["regular-title"]+"</a></h4><span>"+twttr.txt.autoLink(h)+' <a href="'+k["url-with-slug"]+'" target="_blank">read more&hellip;</a><a href="'+k["url-with-slug"]+'" target="_blank" class="date">'+c(k.date)+"</a></li>");e(".pagetimer .feed ul").find("li:last").delay(j*100).animate({opacity:"toggle"})})},"jsonp");e.get("http://www.twitter.com/status/user_timeline/drublic.json?count=10",function(h){log(h);e(".twitter .feed ul").html("");e.each(h,function(i,j){e(".twitter .feed ul").append('<li style="display: none;">'+twttr.txt.autoLink(j.text)+' <a href="http://twitter.com/drublic/status/'+j.id+'" target="_blank" class="date">'+c(j.created_at)+"</a></li>");e(".twitter .feed ul").find("li:last").delay(i*100).animate({opacity:"toggle"})})},"jsonp");e.get("http://drublic.tumblr.com/api/read/json?num=5&filter=text",function(j){log(j);e(".tumblr .feed ul").html("");var h="",i="";e.each(j.posts,function(k,l){i+='<li style="display: none;">';if(l["regular-body"]!==g){i+='<h4><a href="'+l["url-with-slug"]+'" target="_blank">'+l["regular-title"]+"</a></h4>";h=l["regular-body"].substr(0,100);i+="<span>"+twttr.txt.autoLink(h)+' <a href="'+l["url-with-slug"]+'" target="_blank">read more&hellip;</a>'}else{if(l["photo-url-500"]!==g){i+='<a href="'+l["photo-url-500"]+'" rel="group_tumblr" title="'+l["photo-caption"]+'" class="fancybox" target="_black"><img src="'+l["photo-url-250"]+'" alt=""></a>'}else{return}}i+='<a href="'+l["url-with-slug"]+'" target="_blank" class="date">'+c(l.date)+"</a></li>"});e(".tumblr .feed ul").append(i);e(".tumblr .fancybox").fancybox({overlayShow:false});e(".tumblr .feed li").each(function(k){e(this).delay(k*100).animate({opacity:"toggle"})})},"jsonp");!function(){var h=0;!function j(){if(h<e("#main").find("section").size()){if(!e("#main").find("section").eq(h).hasClass("imprint")){e("#main").find("section").eq(h).height(e("html").height()-e("#main").offset().top)}h++;j()}}()}();!function(){e(".contact").find("form").attr("action","#!/"+e(".contact").find("form").attr("action")).submit(function(h){h.preventDefault();var i={};e(this).find("input, textarea").each(function(){e(this).removeClass("invalid");if(e(this).val()!=""){i[e(this).attr("name")]=e(this).val()}else{i[e(this).attr("name")]=e(this).val();e(this).addClass("invalid")}});e.post("ajax/send.php",i,function(j){log(j);if(j.error===g){e("body").append('<div class="message">'+j.msg+"</div>");e(".contact").find("form").find("input, textarea").each(function(){e(this).removeClass("invalid").attr("disabled",true);if(e(this).attr("type")!=="submit"){e(this).val("")}})}else{e("body").append('<div class="message">An error occured! Please resolve this!</div>')}setTimeout(function(){if(e(".message").size()>0){e(".message").fadeOut(function(){e(this).remove()})}},5000)},"json")})}();var f="";!function b(k){if(k!==d.location.hash){k=d.location.hash;if(k==="#!/home"){e(".imprint, .contact").fadeOut(function(){var l=0;!function m(){if(l<e("#main").find("section").size()){e("#main").find("section").eq(l).show().animate({top:0});l++;setTimeout(m,100)}}()})}else{if(k==="#!/imprint"){var h=0;e(".contact").fadeOut();!function j(){if(h<e("#main").find("section").size()){e("#main").find("section").eq(h).animate({top:e("#main").height()},function(){e(this).fadeOut()});h++;setTimeout(j,100)
}else{e(".imprint").delay(500).fadeIn()}}()}else{if(k==="#!/contact"){var h=0;e(".imprint").fadeOut();!function j(){if(h<e("#main").find("section").size()){e("#main").find("section").eq(h).animate({top:e("#main").height()},function(){e(this).fadeOut()});h++;setTimeout(j,100)}else{e(".contact").delay(500).fadeIn()}}()}}}}setTimeout(function(){b(k)},100)}(f)}(jQuery,window,document);