<article class="post">
	<header class="post-header">
		<h1><a href="http://drublic.de/blog/how-to-build-accordion-using-css-and-jquery/" title="Permalink to How to Build an Accordion-Menu using CSS and a bit of jQuery" rel="entry-title">How to Build an Accordion-Menu using CSS and a bit of jQuery</a></h1>
		<time datetime="Sun Oct 23 2011 02:00:00 GMT+0200 (CEST)" rel="updated">Sun Oct 23 2011 02:00:00 GMT+0200 (CEST)</time>

		<span class="author">
			by
			<a href="" title="Visit website" rel="author">Hans Christian</a>
		</span>

		<span class="categories">HTML5</span>
		<span class="tags"></span>
	</header>

	<pre><code><div class="highlight"><pre>                        <span class="o">&lt;</span><span class="nx">div</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;message&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">Hey</span> <span class="nx">there</span><span class="err">…</span><span class="o">&lt;</span><span class="err">/h3&gt;</span>
            <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">This</span> <span class="nx">post</span> <span class="nx">is</span> <span class="mi">612</span> <span class="nx">days</span> <span class="nx">old</span><span class="p">.</span> <span class="nx">It</span> <span class="nx">was</span> <span class="nx">written</span> <span class="nx">on</span> <span class="mf">23.10</span><span class="p">.</span><span class="mi">2011</span><span class="p">.</span> <span class="nx">Please</span> <span class="nx">make</span> <span class="nx">sure</span> <span class="nx">to</span> <span class="nx">be</span> <span class="nx">careful</span> <span class="kd">with</span> <span class="nx">the</span> <span class="nx">information</span> <span class="nx">provided</span> <span class="nx">and</span> <span class="nx">check</span> <span class="nx">a</span> <span class="nx">more</span> <span class="nx">recent</span> <span class="nx">source</span> <span class="nx">on</span> <span class="k">this</span> <span class="nx">topic</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
        <span class="o">&lt;</span><span class="err">/div&gt;</span>

    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">We</span><span class="err">’</span><span class="nx">re</span> <span class="nx">doing</span> <span class="nx">a</span> <span class="nx">project</span> <span class="nx">these</span> <span class="nx">days</span> <span class="nx">where</span> <span class="nx">we</span> <span class="nx">use</span> <span class="nx">an</span> <span class="nx">accordion</span><span class="o">-</span><span class="nx">menu</span> <span class="nx">to</span> <span class="nx">show</span> <span class="nx">some</span> <span class="nx">content</span><span class="p">.</span><span class="o">&lt;</span><span class="nx">br</span> <span class="o">/&gt;</span>
</pre></div>
</code></pre>
<p>I want to share with you how I did this using jQuery and CSS. This is pretty easy and I want to encourage you not to use any plugin or so but to write the code yourself and learn a bit more about how to use CSS and jQuery and save some microseconds on your loading type.</p></p>
<p><h2>The HTML</h2></p>
<p>This is kinda straightforward I think. We don’t need a wrapper for the accordion-menu. Check it:</p>

<div class="wp_syntax"><div class="code"><pre class="xml" style="font-family: monospace;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;section</span> <span style="color: #000066;">id</span>=<span style="color: #ff0000;">&quot;experts&quot;</span> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">&quot;accordion-item&quot;</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;h1<span style="color: #000000; font-weight: bold;">&gt;</span></span><span style="color: #000000; font-weight: bold;">&lt;a</span> <span style="color: #000066;">href</span>=<span style="color: #ff0000;">&quot;#experts&quot;</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>Experts<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/a<span style="color: #000000; font-weight: bold;">&gt;</span></span><span style="color: #000000; font-weight: bold;">&lt;/h1<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
  <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;div</span> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">&quot;content&quot;</span><span style="color: #000000; font-weight: bold;">&gt;</span><span style="color: #000000; font-weight: bold;">&lt;/div<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/section<span style="color: #000000; font-weight: bold;">&gt;</span></span></span></pre></div></div>

<p>This is how every item for your accordion should look like.</p>
<h2>The CSS-Part</h2>
<p>Some basic CSS-rules for the header and the content of each item.</p>

<div class="wp_syntax"><div class="code"><pre class="css" style="font-family: monospace;"><span style="color: #6666ff;">.accordion-item</span> h1 a <span style="color: #00AA00;">{</span> <span style="color: #000000; font-weight: bold;">display</span><span style="color: #00AA00;">:</span> <span style="color: #993333;">block</span><span style="color: #00AA00;">;</span> <span style="color: #000000; font-weight: bold;">font-size</span><span style="color: #00AA00;">:</span> <span style="color: #933;">1.5em</span><span style="color: #00AA00;">;</span> <span style="color: #000000; font-weight: bold;">text-align</span><span style="color: #00AA00;">:</span> <span style="color: #993333;">center</span><span style="color: #00AA00;">;</span> <span style="color: #00AA00;">}</span>
<span style="color: #6666ff;">.accordion-item</span> .<span style="color: #000000; font-weight: bold;">content</span> <span style="color: #00AA00;">{</span> <span style="color: #000000; font-weight: bold;">display</span><span style="color: #00AA00;">:</span> <span style="color: #993333;">none</span><span style="color: #00AA00;">;</span> <span style="color: #00AA00;">}</span></pre></div></div>

<p>You may want to do at least a bit more on the styles but that’s up to everybody on its own.</p>
<p>We want to keep this accordion accessible for people who don’t use JavaScript, what is kinda unusual these days I think… but you never know!<br />
That’s why we added an <code>id</code> to each accordion-item and link to this section in the headline through <code>#experts</code> for instance. We can now show the content of the requested <code>id</code> with CSS:</p>

<div class="wp_syntax"><div class="code"><pre class="css" style="font-family: monospace;"><span style="color: #3333ff;">:target </span>.<span style="color: #000000; font-weight: bold;">content</span> <span style="color: #00AA00;">{</span> <span style="color: #000000; font-weight: bold;">display</span><span style="color: #00AA00;">:</span> <span style="color: #993333;">block</span><span style="color: #00AA00;">;</span> <span style="color: #00AA00;">}</span></pre></div></div>

<p>So we’re all set up with the accordion. We can now add some effects with JavaScript.</p>
<h2>Using jQuery</h2>
<p>First, we will add a line that will show the content of the first element on load:</p>

<div class="wp_syntax"><div class="code"><pre class="javascript" style="font-family: monospace;">$<span style="color: #009900;">(</span><span style="color: #3366CC;">&#39;.accordion-item&#39;</span><span style="color: #009900;">)</span>.<span style="color: #660066;">eq</span><span style="color: #009900;">(</span><span style="color: #CC0000;">0</span><span style="color: #009900;">)</span>.<span style="color: #660066;">addClass</span><span style="color: #009900;">(</span><span style="color: #3366CC;">&#39;current&#39;</span><span style="color: #009900;">)</span>.<span style="color: #660066;">find</span><span style="color: #009900;">(</span><span style="color: #3366CC;">&#39;.content&#39;</span><span style="color: #009900;">)</span>.<span style="color: #660066;">show</span><span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span></pre></div></div>

<p>And than the we will listen to clicks on the headlines and do some actions afterwards. Read the comments in this snipped.</p>

<div class="wp_syntax"><div class="code"><pre class="javascript" style="font-family: monospace;"><span style="color: #006600; font-style: italic;">// Listen to click on headline-link</span>
$<span style="color: #009900;">(</span><span style="color: #3366CC;">&#39;.accordion-item h1 a&#39;</span><span style="color: #009900;">)</span>.<span style="color: #660066;">click</span><span style="color: #009900;">(</span><span style="color: #003366; font-weight: bold;">function</span><span style="color: #009900;">(</span>e<span style="color: #009900;">)</span> <span style="color: #009900;">{</span>
  <span style="color: #006600; font-style: italic;">// prevent auto scrolling to id</span>
  e.<span style="color: #660066;">preventDefault</span><span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span>
&nbsp;
  <span style="color: #006600; font-style: italic;">// Register the variables for better performance</span>
  <span style="color: #003366; font-weight: bold;">var</span> $parent <span style="color: #339933;">=</span> $<span style="color: #009900;">(</span><span style="color: #000066; font-weight: bold;">this</span><span style="color: #009900;">)</span>.<span style="color: #660066;">closest</span><span style="color: #009900;">(</span><span style="color: #3366CC;">&#39;.accordion-item&#39;</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span>
      $content <span style="color: #339933;">=</span> $parent.<span style="color: #660066;">find</span><span style="color: #009900;">(</span><span style="color: #3366CC;">&#39;.content&#39;</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span>
&nbsp;
  <span style="color: #006600; font-style: italic;">// If the clicked section is not the active one</span>
  <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">(</span><span style="color: #339933;">!</span>$parent.<span style="color: #660066;">hasClass</span><span style="color: #009900;">(</span><span style="color: #3366CC;">&#39;current&#39;</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span> <span style="color: #009900;">{</span>
&nbsp;
    <span style="color: #006600; font-style: italic;">// SlideUp &quot;old&quot; and remove class</span>
    $<span style="color: #009900;">(</span><span style="color: #3366CC;">&#39;.accordion-item.current .content&#39;</span><span style="color: #009900;">)</span>.<span style="color: #660066;">slideUp</span><span style="color: #009900;">(</span><span style="color: #009900;">)</span>
      .<span style="color: #660066;">parent</span><span style="color: #009900;">(</span><span style="color: #009900;">)</span>.<span style="color: #660066;">removeClass</span><span style="color: #009900;">(</span><span style="color: #3366CC;">&#39;current&#39;</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span>
&nbsp;
    <span style="color: #006600; font-style: italic;">// Add class and slide down content</span>
    $parent.<span style="color: #660066;">addClass</span><span style="color: #009900;">(</span><span style="color: #3366CC;">&#39;current&#39;</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span>
    $content.<span style="color: #660066;">slideDown</span><span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span>
&nbsp;
  <span style="color: #006600; font-style: italic;">// If the click was triggered on the currently active section</span>
  <span style="color: #006600; font-style: italic;">// remove the class and slide up content</span>
  <span style="color: #009900;">}</span> <span style="color: #000066; font-weight: bold;">else</span> <span style="color: #009900;">{</span>
    $parent.<span style="color: #660066;">removeClass</span><span style="color: #009900;">(</span><span style="color: #3366CC;">&#39;current&#39;</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span>
    $content.<span style="color: #660066;">slideUp</span><span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span>
  <span style="color: #009900;">}</span>
<span style="color: #009900;">}</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span></pre></div></div>

<p>And this is it I guess. Working pretty much in every available browser. The CSS <code>:target</code> pseudo-class is not available in every browser though, as it is a CSS3-pseudo-class. And now guess which browser this might be… Right Internet Explorer. It is supported with version 9 but not before.<br />
You will find more information about <code>:target</code> <a href="http://www.w3.org/TR/selectors/#target-pseudo" target="_blank" title="The :target-pseudo-class">in the spec</a>. Check out the <a href="http://caniuse.com/#search=target" target="_blank" title="When can I use ':target'?">Can I Use</a> table on CSS3-Selectors.</p>
<h2>Download the files</h2>
<p>I’ve made a demo of this on jsFiddle. Play around a little bit or download the files, if you want to.<br />
<a href="http://fiddle.jshell.net/drublic/j4wYw/" title="Demo" class="button">Demo</a>&nbsp;&nbsp;&nbsp;&nbsp; <a href="http://drublic.de/blog/wp-content/uploads/2011/10/accordion-menu-css.zip" title="Download" class="button">Download</a></p>





	<div class="share-post">
		<script type="text/x-handlebars-template" id="share-post">
			<a href="http://twitter.com/share" class="twitter-share-button" data-url="http://drublic.de/blog/how-to-build-accordion-using-css-and-jquery/" data-text="How to Build an Accordion-Menu using CSS and a bit of jQuery" data-count="horizontal" data-via="drublic" data-related="drublic">Tweet</a>

			<g:plusone size="medium"></g:plusone>
		</script>
	</div>
</article>
