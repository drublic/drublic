/*! Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
* Licensed under the MIT License (LICENSE.txt).
*
* Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
* Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
* Thanks to: Seamus Leahy for adding deltaX and deltaY
*
* Version: 3.0.4
*
* Requires: 1.2.2+
*/
(function(c){function a(f){var d=f||window.event,g=[].slice.call(arguments,1),l=0,j=0,k=0;f=c.event.fix(d);f.type="mousewheel";if(f.wheelDelta){l=f.wheelDelta/120}if(f.detail){l=-f.detail/3}k=l;if(d.axis!==undefined&&d.axis===d.HORIZONTAL_AXIS){k=0;j=-1*l}if(d.wheelDeltaY!==undefined){k=d.wheelDeltaY/120}if(d.wheelDeltaX!==undefined){j=-1*d.wheelDeltaX/120}g.unshift(f,l,j,k);return c.event.handle.apply(this,g)}var b=["DOMMouseScroll","mousewheel"];c.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var d=b.length;d;){this.addEventListener(b[--d],a,false)}}else{this.onmousewheel=a}},teardown:function(){if(this.removeEventListener){for(var d=b.length;d;){this.removeEventListener(b[--d],a,false)}}else{this.onmousewheel=null}}};c.fn.extend({mousewheel:function(d){return d?this.bind("mousewheel",d):this.trigger("mousewheel")},unmousewheel:function(d){return this.unbind("mousewheel",d)}})})(jQuery);window.log=function(){log.history=log.history||[];log.history.push(arguments);arguments.callee=arguments.callee.caller;if(this.console){console.log(Array.prototype.slice.call(arguments))}};(function(e){function h(){}for(var g="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),f;f=g.pop();){e[f]=e[f]||h}})(window.console=window.console||{});!function(f,e,b,h){var a=function(){if(f(e).width()<481){return true}else{return false}};!function(){if(a()){var i,k,j=f("<ul />",{"class":"menu",html:j});f("#main").find("section").each(function(l){i=f(this);k=i.find("h2 a").html();sectionClass=i.attr("class");f("<li />",{id:"menu-li-"+l,html:'<a href="#!/'+sectionClass+'">'+k+"</a>"}).appendTo(j)});j.prependTo("#main");f("<span />",{"class":"scroll-next",html:"&darr;"}).insertAfter(f("#main").find("section").not(":last-child").find("h2")).click(function(){log(f(this).closest("section").next().offset().top);f("html,body").animate({scrollTop:f(this).closest("section").next().offset().top})});f("<span />",{"class":"scroll-top",html:"&uarr;"}).insertAfter(f("#main").find("section").last().find("h2")).click(function(){f("html,body").animate({scrollTop:0})});f(".projects").find("li").click(function(){f(this).find(".back").animat({opacity:"toggle"})})}}();function d(j){j=new Date(j);var i=j.getDate()+"."+parseInt(j.getMonth()+1)+"."+j.getFullYear();i+=" - "+j.getHours()+":"+((j.getMinutes()<=9)?"0"+j.getMinutes():j.getMinutes());return i}f.get("http://blog.pagetimer.de/api/read/json?num=15&filter=text",function(j){log(j);f(".pagetimer .feed ul").html("");var i="";f.each(j.posts,function(k,l){i=l["regular-body"].substr(0,100);f(".pagetimer .feed ul").append('<li style="display: none;"><h4><a href="'+l["url-with-slug"]+'" target="_blank">'+l["regular-title"]+"</a></h4><span>"+twttr.txt.autoLink(i)+' <a href="'+l["url-with-slug"]+'" target="_blank">read more&hellip;</a><a href="'+l["url-with-slug"]+'" target="_blank" class="date">'+d(l.date)+"</a></li>");f(".pagetimer .feed ul").find("li:last").delay(k*100).animate({opacity:"toggle"})})},"jsonp");f.get("http://www.twitter.com/status/user_timeline/drublic.json?count=10",function(i){log(i);f(".twitter .feed ul").html("");f.each(i,function(j,k){f(".twitter .feed ul").append('<li style="display: none;">'+twttr.txt.autoLink(k.text)+' <a href="http://twitter.com/drublic/status/'+k.id+'" target="_blank" class="date">'+d(k.created_at)+"</a></li>");f(".twitter .feed ul").find("li:last").delay(j*100).animate({opacity:"toggle"})})},"jsonp");f.get("http://drublic.tumblr.com/api/read/json?num=5&filter=text",function(k){log(k);f(".tumblr .feed ul").html("");var i="",j="";f.each(k.posts,function(m,n){j+='<li style="display: none;">';if(n["regular-body"]!==h){j+='<h4><a href="'+n["url-with-slug"]+'" target="_blank">'+n["regular-title"]+"</a></h4>";i=n["regular-body"].substr(0,100);j+="<span>"+twttr.txt.autoLink(i)+' <a href="'+n["url-with-slug"]+'" target="_blank">read more&hellip;</a>'}else{if(n["photo-url-500"]!==h){var l=n["photo-url-250"];if(f(".tumblr .feed").width()>300){l=n["photo-url-500"]}j+='<a href="'+n["photo-url-500"]+'" rel="group_tumblr" title="'+n["photo-caption"]+'" class="fancybox" target="_black"><img src="'+l+'" alt=""></a>'}else{return}}j+='<a href="'+n["url-with-slug"]+'" target="_blank" class="date">'+d(n.date)+"</a></li>"});f(".tumblr .feed ul").append(j);if(!a()){f(".tumblr .fancybox").fancybox({overlayShow:false})}else{f(".tumblr .fancybox").click(function(l){l.preventDefault()})}f(".tumblr .feed li").each(function(l){f(this).delay(l*100).animate({opacity:"toggle"})})},"jsonp");!function(){if(a()){return}var j=0;!function k(){if(j<f("#main").find("section").size()){if(!f("#main").find("section").eq(j).hasClass("imprint")){f("#main").find("section").eq(j).height(f("html").height()-f("#main").offset().top)}j++;k()}}()}();!function(){f(".contact").find("form").attr("action","#!/"+f(".contact").find("form").attr("action")).submit(function(i){i.preventDefault();var j={};f(this).find("input, textarea").each(function(){f(this).removeClass("invalid");if(f(this).val()!=""){j[f(this).attr("name")]=f(this).val()}else{j[f(this).attr("name")]=f(this).val();f(this).addClass("invalid")}});f.post("ajax/send.php",j,function(k){log(k);if(k.error===h){f("body").append('<div class="message">'+k.msg+"</div>");f(".contact").find("form").find("input, textarea").each(function(){f(this).removeClass("invalid").attr("disabled",true);
if(f(this).attr("type")!=="submit"){f(this).val("")}})}else{f("body").append('<div class="message">An error occured! Please resolve it!</div>')}setTimeout(function(){if(f(".message").size()>0){f(".message").fadeOut(function(){f(this).remove()})}},5000)},"json")})}();var g="";f("nav").find("li:first-child").addClass("active");!function c(n){if(n!==e.location.hash){n=e.location.hash;f("nav").find(".active").removeClass("active");f("nav").find('a[href$="'+n.split(/\#\!\//)[1]+'"]').parent().addClass("active");if(n==="#!/home"){f(".imprint, .contact").fadeOut(function(){var o=0;!function p(){if(o<f("#main").find("section").size()){f("#main").find("section").eq(o).show().animate({top:0});o++;setTimeout(p,100)}}();if(a()){f(".menu").fadeIn()}})}else{if(n==="#!/imprint"){var k=0;f(".contact").fadeOut();!function m(){if(k<f("#main").find("section").size()){f("#main").find("section").eq(k).animate({top:f("#main").height()},function(){f(this).fadeOut()});k++;setTimeout(m,100)}else{f(".imprint").delay(500).fadeIn()}}();if(a()){f(".menu").fadeOut()}}else{if(n==="#!/contact"){var k=0;f(".imprint").fadeOut();!function m(){if(k<f("#main").find("section").size()){f("#main").find("section").eq(k).animate({top:f("#main").height()},function(){f(this).fadeOut()});k++;setTimeout(m,100)}else{f(".contact").delay(500).fadeIn()}}();if(a()){f(".menu").fadeOut()}}else{var l="."+n.split(/\#\!\//)[1];if(f(l).size()>0){f("html, body").animate({scrollTop:f(l).offset().top})}f("nav").find("li:first-child").addClass("active")}}}if(a()){var j=f("nav .active").clone();f("nav .active").remove();f("nav li").eq(0).after(j)}}setTimeout(function(){c(n)},100)}(g)}(jQuery,window,document);if(!window.twttr){window.twttr={}}(function(){twttr.txt={};twttr.txt.regexen={};var b={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#32;"};twttr.txt.htmlEscape=function(i){return i&&i.replace(/[&"'><]/g,function(n){return b[n]})};function c(n,i){i=i||"";if(typeof n!=="string"){if(n.global&&i.indexOf("g")<0){i+="g"}if(n.ignoreCase&&i.indexOf("i")<0){i+="i"}if(n.multiline&&i.indexOf("m")<0){i+="m"}n=n.source}return new RegExp(n.replace(/#\{(\w+)\}/g,function(p,o){var q=twttr.txt.regexen[o]||"";if(typeof q!=="string"){q=q.source}return q}),i)}function d(n,i){return n.replace(/#\{(\w+)\}/g,function(p,o){return i[o]||""})}var h=String.fromCharCode;var e=[h(32),h(133),h(160),h(5760),h(6158),h(8232),h(8233),h(8239),h(8287),h(12288)];for(var g=9;g<=13;g++){e.push(String.fromCharCode(g))}for(var g=8192;g<=8202;g++){e.push(String.fromCharCode(g))}twttr.txt.regexen.spaces=c("["+e.join("")+"]");twttr.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~/;twttr.txt.regexen.atSigns=/[@＠]/;twttr.txt.regexen.extractMentions=c(/(^|[^a-zA-Z0-9_])(#{atSigns})([a-zA-Z0-9_]{1,20})(?=(.|$))/g);twttr.txt.regexen.extractReply=c(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/);twttr.txt.regexen.listName=/[a-zA-Z][a-zA-Z0-9_\-\u0080-\u00ff]{0,24}/;twttr.txt.regexen.latinAccentChars=c("ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþ\\303\\277");twttr.txt.regexen.latenAccents=c(/[#{latinAccentChars}]+/);twttr.txt.regexen.endScreenNameMatch=c(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/);twttr.txt.regexen.hashtagCharacters=c(/[a-z0-9_#{latinAccentChars}]/i);twttr.txt.regexen.autoLinkHashtags=c(/(^|[^0-9A-Z&\/\?]+)(#|＃)([0-9A-Z_]*[A-Z_]+#{hashtagCharacters}*)/gi);twttr.txt.regexen.autoLinkUsernamesOrLists=/(^|[^a-zA-Z0-9_]|RT:?)([@＠]+)([a-zA-Z0-9_]{1,20})(\/[a-zA-Z][a-zA-Z0-9_\-]{0,24})?/g;twttr.txt.regexen.autoLinkEmoticon=/(8\-\#|8\-E|\+\-\(|\`\@|\`O|\&lt;\|:~\(|\}:o\{|:\-\[|\&gt;o\&lt;|X\-\/|\[:-\]\-I\-|\/\/\/\/Ö\\\\\\\\|\(\|:\|\/\)|∑:\*\)|\( \| \))/g;twttr.txt.regexen.validPrecedingChars=c(/(?:[^-\/"':!=A-Za-z0-9_@＠]|^|\:)/);twttr.txt.regexen.validDomain=c(/(?:[^#{punct}\s][\.-](?=[^#{punct}\s])|[^#{punct}\s]){1,}\.[a-z]{2,}(?::[0-9]+)?/i);twttr.txt.regexen.validGeneralUrlPathChars=/[a-z0-9!\*';:=\+\$\/%#\[\]\-_,~]/i;twttr.txt.regexen.wikipediaDisambiguation=c(/(?:\(#{validGeneralUrlPathChars}+\))/i);twttr.txt.regexen.validUrlPathChars=c(/(?:#{wikipediaDisambiguation}|@#{validGeneralUrlPathChars}+\/|[\.,]?#{validGeneralUrlPathChars})/i);twttr.txt.regexen.validUrlPathEndingChars=c(/(?:[a-z0-9=_#\/]|#{wikipediaDisambiguation})/i);twttr.txt.regexen.validUrlQueryChars=/[a-z0-9!\*'\(\);:&=\+\$\/%#\[\]\-_\.,~]/i;twttr.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i;twttr.txt.regexen.validUrl=c("((#{validPrecedingChars})((https?:\\/\\/)(#{validDomain})(\\/(?:#{validUrlPathChars}+#{validUrlPathEndingChars}|#{validUrlPathChars}+#{validUrlPathEndingChars}?|#{validUrlPathEndingChars})?)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi");var a="tweet-url";var f="list-slug";var m="username";var k="hashtag";var l=' rel="nofollow"';function j(p){var n={};for(var i in p){if(p.hasOwnProperty(i)){n[i]=p[i]}}return n}twttr.txt.autoLink=function(n,i){i=j(i||{});return twttr.txt.autoLinkUsernamesOrLists(twttr.txt.autoLinkUrlsCustom(twttr.txt.autoLinkHashtags(n,i),i),i)};twttr.txt.autoLinkUsernamesOrLists=function(s,q){q=j(q||{});q.urlClass=q.urlClass||a;q.listClass=q.listClass||f;q.usernameClass=q.usernameClass||m;q.usernameUrlBase=q.usernameUrlBase||"http://twitter.com/";q.listUrlBase=q.listUrlBase||"http://twitter.com/";if(!q.suppressNoFollow){var i=l}var r="",p=twttr.txt.splitTags(s);for(var o=0;o<p.length;o++){var n=p[o];if(o!==0){r+=((o%2===0)?">":"<")}if(o%4!==0){r+=n}else{r+=n.replace(twttr.txt.regexen.autoLinkUsernamesOrLists,function(z,C,v,y,t,x,D){var u=D.slice(x+z.length);var B={before:C,at:v,user:twttr.txt.htmlEscape(y),slashListname:twttr.txt.htmlEscape(t),extraHtml:i,chunk:twttr.txt.htmlEscape(D)};for(var w in q){if(q.hasOwnProperty(w)){B[w]=q[w]
}}if(t&&!q.suppressLists){var A=B.chunk=d("#{user}#{slashListname}",B);B.list=twttr.txt.htmlEscape(A.toLowerCase());return d('#{before}#{at}<a class="#{urlClass} #{listClass}" href="#{listUrlBase}#{list}"#{extraHtml}>#{chunk}</a>',B)}else{if(u&&u.match(twttr.txt.regexen.endScreenNameMatch)){return z}else{B.chunk=twttr.txt.htmlEscape(y);B.dataScreenName=!q.suppressDataScreenName?d('data-screen-name="#{chunk}" ',B):"";return d('#{before}#{at}<a class="#{urlClass} #{usernameClass}" #{dataScreenName}href="#{usernameUrlBase}#{chunk}"#{extraHtml}>#{chunk}</a>',B)}}})}}return r};twttr.txt.autoLinkHashtags=function(o,n){n=j(n||{});n.urlClass=n.urlClass||a;n.hashtagClass=n.hashtagClass||k;n.hashtagUrlBase=n.hashtagUrlBase||"http://twitter.com/search?q=%23";if(!n.suppressNoFollow){var i=l}return o.replace(twttr.txt.regexen.autoLinkHashtags,function(q,r,s,u){var t={before:r,hash:twttr.txt.htmlEscape(s),text:twttr.txt.htmlEscape(u),extraHtml:i};for(var p in n){if(n.hasOwnProperty(p)){t[p]=n[p]}}return d('#{before}<a href="#{hashtagUrlBase}#{text}" title="##{text}" class="#{urlClass} #{hashtagClass}"#{extraHtml}>#{hash}#{text}</a>',t)})};twttr.txt.autoLinkUrlsCustom=function(n,i){i=j(i||{});if(!i.suppressNoFollow){i.rel="nofollow"}if(i.urlClass){i["class"]=i.urlClass;delete i.urlClass}delete i.suppressNoFollow;delete i.suppressDataScreenName;return n.replace(twttr.txt.regexen.validUrl,function(u,x,w,p,y,t,z,o){var r;if(y){var q="";for(var s in i){q+=d(' #{k}="#{v}" ',{k:s,v:i[s].toString().replace(/"/,"&quot;").replace(/</,"&lt;").replace(/>/,"&gt;")})}i.htmlAttrs||"";var v={before:w,htmlAttrs:q,url:twttr.txt.htmlEscape(p)};return d('#{before}<a href="#{url}"#{htmlAttrs}>#{url}</a>',v)}else{return x}})};twttr.txt.extractMentions=function(q){var r=[],n=twttr.txt.extractMentionsWithIndices(q);for(var p=0;p<n.length;p++){var o=n[p].screenName;r.push(o)}return r};twttr.txt.extractMentionsWithIndices=function(o){if(!o){return[]}var n=[],i=0;o.replace(twttr.txt.regexen.extractMentions,function(p,t,s,q,u){if(!u.match(twttr.txt.regexen.endScreenNameMatch)){var r=o.indexOf(s+q,i);i=r+q.length+1;n.push({screenName:q,indices:[r,i]})}});return n};twttr.txt.extractReplies=function(n){if(!n){return null}var i=n.match(twttr.txt.regexen.extractReply);if(!i){return null}return i[1]};twttr.txt.extractUrls=function(q){var p=[],n=twttr.txt.extractUrlsWithIndices(q);for(var o=0;o<n.length;o++){p.push(n[o].url)}return p};twttr.txt.extractUrlsWithIndices=function(o){if(!o){return[]}var n=[],i=0;o.replace(twttr.txt.regexen.validUrl,function(u,x,w,p,y,r,z,v){var q;if(y){var s=o.indexOf(p,t),t=s+p.length;n.push({url:p,indices:[s,t]})}});return n};twttr.txt.extractHashtags=function(q){var p=[],o=twttr.txt.extractHashtagsWithIndices(q);for(var n=0;n<o.length;n++){p.push(o[n].hashtag)}return p};twttr.txt.extractHashtagsWithIndices=function(o){if(!o){return[]}var n=[],i=0;o.replace(twttr.txt.regexen.autoLinkHashtags,function(p,s,t,r){var q=o.indexOf(t+r,i);i=q+r.length+1;n.push({hashtag:r,indices:[q,i]})});return n};twttr.txt.splitTags=function(t){var n=t.split("<"),s,r=[],q;for(var p=0;p<n.length;p+=1){q=n[p];if(!q){r.push("")}else{s=q.split(">");for(var o=0;o<s.length;o+=1){r.push(s[o])}}}return r};twttr.txt.hitHighlight=function(y,A,q){var w="em";A=A||[];q=q||{};if(A.length===0){return y}var p=q.tag||w,z=["<"+p+">","</"+p+">"],x=twttr.txt.splitTags(y),B,E,D,t="",n=0,u=x[0],v=0,o=0,I=false,r=u,C=[],s,F,J,H,G;for(E=0;E<A.length;E+=1){for(D=0;D<A[E].length;D+=1){C.push(A[E][D])}}for(s=0;s<C.length;s+=1){F=C[s];J=z[s%2];H=false;while(u!=null&&F>=v+u.length){t+=r.slice(o);if(I&&F===v+r.length){t+=J;H=true}if(x[n+1]){t+="<"+x[n+1]+">"}v+=r.length;o=0;n+=2;u=x[n];r=u;I=false}if(!H&&u!=null){G=F-v;t+=r.slice(o,G)+J;o=G;if(s%2===0){I=true}else{I=false}}else{if(!H){H=true;t+=J}}}if(u!=null){if(o<r.length){t+=r.slice(o)}for(s=n+1;s<x.length;s+=1){t+=(s%2===0?x[s]:"<"+x[s]+">")}}return t}}());